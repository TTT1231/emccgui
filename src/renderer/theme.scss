//================== 亮色主题 ===================
$light-theme: (
   'bg-primary': #fff,
   'bg-secondary': #f9f9f9,
   'bg-button': #f1f1f1,
   'bg-button-hover': #e0e0e0,
   'bg-button-hover-danger': #ff4d4f,
   'bg-input': #fff,
   'text-primary': #213547,
   'text-secondary': #586775,
   'color-primary': #646cff,
   'color-primary-hover': #535bf2,
   'border-color': #e0e0e0,
   'shadow-color': rgb(0 0 0 / 10%),
);

//================== 暗色主题 ===================
$dark-theme: (
   'bg-primary': #242424,
   'bg-secondary': #2f2f2f,
   'bg-button': #1a1a1a,
   'bg-button-hover': #3a3a3a,
   'bg-button-hover-danger': #ff4d4f,
   'bg-input': #1a1a1a,
   'text-primary': rgb(255 255 255 / 87%),
   'text-secondary': rgb(255 255 255 / 60%),
   'color-primary': #646cff,
   'color-primary-hover': #7d84ff,
   'border-color': #3e3e3e,
   'shadow-color': rgb(0 0 0 / 30%),
);

//================== CSS 变量生成 ===================
// 混入：将 Sass Map 转换为 CSS 变量
@mixin theme-props($theme-map) {
   @each $key, $value in $theme-map {
      --#{$key}: #{$value};
   }
}

// 默认主题 (亮色) & 显式亮色主题
:root,
[theme='light'] {
   @include theme-props($light-theme);

   color-scheme: light;
}

// 暗色主题
[theme='dark'] {
   @include theme-props($dark-theme);

   color-scheme: dark;
}

//================== 全局样式应用 ===================

// 基础排版
:root {
   font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
   font-weight: 400;
   font-synthesis: none;
   line-height: 1.6;
   text-rendering: optimizelegibility;
   -webkit-font-smoothing: antialiased;
   -moz-osx-font-smoothing: grayscale;
}

body {
   min-width: 320px;
   min-height: 100vh;
   margin: 0;
   color: var(--text-primary);
   background-color: var(--bg-primary);
   transition:
      background-color 0.2s ease,
      color 0.2s ease;
}

#app {
   box-sizing: border-box;
   width: 100%;
   height: 100vh;
   overflow: hidden;
}

a {
   font-weight: 500;
   color: var(--color-primary);
   text-decoration: inherit;
   transition: color 0.2s;

   &:hover {
      color: var(--color-primary-hover);
   }
}

h1 {
   font-size: 3.2em;
   line-height: 1.1;
   color: var(--text-primary);
}

p {
   color: var(--text-secondary);
}

button {
   padding: 0.6em 1.2em;
   font-family: inherit;
   font-size: 1em;
   font-weight: 500;
   color: var(--text-primary);
   cursor: pointer;
   background-color: var(--bg-button);
   border: 1px solid transparent;
   border-radius: 8px;
   transition:
      border-color 0.2s,
      background-color 0.2s,
      transform 0.1s;

   &:hover {
      background-color: var(--bg-button-hover);
      border-color: var(--color-primary);
   }

   &:active {
      transform: scale(0.98);
   }

   &:focus,
   &:focus-visible {
      outline: 4px auto -webkit-focus-ring-color;
   }
}

input {
   padding: 0.6em;
   font-size: 1em;
   color: var(--text-primary);
   background-color: var(--bg-input);
   border: 1px solid var(--border-color);
   border-radius: 4px;

   &:focus {
      outline: none;
      border-color: var(--color-primary);
   }
}

.card {
   padding: 2em;
   margin-top: 1rem;
   background-color: var(--bg-secondary);
   border-radius: 12px;
   box-shadow: 0 4px 6px var(--shadow-color);
}
